<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="NutritionDiary.Views.MainPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Ð“Ð»Ð°Ð²Ð½Ð°Ñ"
             BackgroundColor="#FFFBF5">

    <RefreshView x:Name="RefreshView" RefreshColor="#FF9E6D">
        <ScrollView>
            <VerticalStackLayout Spacing="20" Padding="20">

                <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                <Label Text="Ð”Ð½ÐµÐ²Ð½Ð¸Ðº Ð¿Ð¸Ñ‚Ð°Ð½Ð¸Ñ"
                       FontSize="28"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       TextColor="#5D4037" />

                <!-- ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹ -->
                <Frame BackgroundColor="White"
                       Padding="20"
                       CornerRadius="15"
                       HasShadow="True">
                    <VerticalStackLayout Spacing="15">
                        <Label Text="Ð”Ð½ÐµÐ²Ð½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ"
                               TextColor="#5D4037"
                               FontSize="20"
                               FontAttributes="Bold" />

                        <ProgressBar x:Name="CalorieProgressBar"
                                     ProgressColor="#FF9E6D"
                                     BackgroundColor="#F5E6E0"
                                     HeightRequest="12"/>

                        <Label x:Name="CalorieLabel"
                               HorizontalOptions="Center"
                               FontSize="14"
                               TextColor="#8D6E63" />

                        <Grid ColumnDefinitions="*,*,*,*" 
                              ColumnSpacing="10">

                            <Frame Grid.Column="0" 
                                   BackgroundColor="#E8F5E8"
                                   Padding="12"
                                   CornerRadius="10"
                                   HasShadow="True">
                                <Label x:Name="ProteinLabel"
                                       Text="Ð‘: 0Ð³"
                                       TextColor="#388E3C"
                                       FontSize="12"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                            </Frame>

                            <Frame Grid.Column="1" 
                                   BackgroundColor="#FFF3E0"
                                   Padding="12"
                                   CornerRadius="10"
                                   HasShadow="True">
                                <Label x:Name="FatLabel"
                                       Text="Ð–: 0Ð³"
                                       TextColor="#F57C00"
                                       FontSize="12"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                            </Frame>

                            <Frame Grid.Column="2" 
                                   BackgroundColor="#E3F2FD"
                                   Padding="12"
                                   CornerRadius="10"
                                   HasShadow="True">
                                <Label x:Name="CarbsLabel"
                                       Text="Ð£: 0Ð³"
                                       TextColor="#1976D2"
                                       FontSize="12"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center"/>
                            </Frame>

                            <Frame x:Name="TrafficLightFrame" 
                                   Grid.Column="3" 
                                   BackgroundColor="Gray"
                                   Padding="12"
                                   CornerRadius="10"
                                   HasShadow="True">
                                <Label Text="âš¡"
                                       FontSize="16"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"/>
                            </Frame>
                        </Grid>
                    </VerticalStackLayout>
                </Frame>

                <!-- Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ÐµÐ¼Ð¾Ð² Ð¿Ð¸Ñ‰Ð¸ -->
                <Label Text="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸ÐµÐ¼ Ð¿Ð¸Ñ‰Ð¸"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="#5D4037" />

                <Grid ColumnDefinitions="*,*" 
                      RowDefinitions="*,*" 
                      ColumnSpacing="12" 
                      RowSpacing="12">

                    <Button Grid.Row="0" Grid.Column="0"
                            Text="ðŸ³ Ð—Ð°Ð²Ñ‚Ñ€Ð°Ðº"
                            Clicked="OnAddBreakfastClicked"
                            BackgroundColor="#FF9E6D"
                            TextColor="White"
                            CornerRadius="12"
                            FontSize="14"
                            FontAttributes="Bold"
                            HeightRequest="60" />

                    <Button Grid.Row="0" Grid.Column="1"
                            Text="ðŸ² ÐžÐ±ÐµÐ´"
                            Clicked="OnAddLunchClicked"
                            BackgroundColor="#4DB6AC"
                            TextColor="White"
                            CornerRadius="12"
                            FontSize="14"
                            FontAttributes="Bold"
                            HeightRequest="60" />

                    <Button Grid.Row="1" Grid.Column="0"
                            Text="ðŸ½ï¸ Ð£Ð¶Ð¸Ð½"
                            Clicked="OnAddDinnerClicked"
                            BackgroundColor="#7986CB"
                            TextColor="White"
                            CornerRadius="12"
                            FontSize="14"
                            FontAttributes="Bold"
                            HeightRequest="60" />

                    <Button Grid.Row="1" Grid.Column="1"
                            Text="ðŸŽ ÐŸÐµÑ€ÐµÐºÑƒÑ"
                            Clicked="OnAddSnackClicked"
                            BackgroundColor="#A1887F"
                            TextColor="White"
                            CornerRadius="12"
                            FontSize="14"
                            FontAttributes="Bold"
                            HeightRequest="60" />
                </Grid>

                <!-- ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ -->
                <Grid ColumnDefinitions="*,*" 
                      ColumnSpacing="12">

                    <Button Grid.Column="0"
                            Text="ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°"
                            Clicked="OnShowStatisticsClicked"
                            BackgroundColor="#81C784"
                            TextColor="White"
                            CornerRadius="12"
                            FontSize="14"
                            FontAttributes="Bold"
                            HeightRequest="50" />

                    <Button Grid.Column="1"
                            Text="ðŸ“– Ð ÐµÑ†ÐµÐ¿Ñ‚Ñ‹"
                            Clicked="OnShowRecipesClicked"
                            BackgroundColor="#FFB74D"
                            TextColor="White"
                            CornerRadius="12"
                            FontSize="14"
                            FontAttributes="Bold"
                            HeightRequest="50" />
                </Grid>

                <!-- Ð¢Ñ€ÐµÐºÐµÑ€ Ð²Ð¾Ð´Ñ‹ -->
                <Frame BackgroundColor="White"
                       Padding="20"
                       CornerRadius="15"
                       HasShadow="True">
                    <VerticalStackLayout Spacing="15">

                        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                        <Grid ColumnDefinitions="*,Auto">
                            <Label Grid.Column="0"
                                   Text="ðŸ’§ Ð¢Ñ€ÐµÐºÐµÑ€ Ð²Ð¾Ð´Ñ‹"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="#0288D1" />

                            <Label x:Name="WaterPercentageLabel"
                                   Grid.Column="1"
                                   Text="0%"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#0288D1" />
                        </Grid>

                        <!-- ÐšÑ€ÑƒÐ³Ð¾Ð²Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€ -->
                        <Grid HorizontalOptions="Center" 
                              VerticalOptions="Center"
                              HeightRequest="120"
                              WidthRequest="120">

                            <!-- Ð¤Ð¾Ð½ ÐºÑ€ÑƒÐ³Ð° -->
                            <Ellipse Stroke="#E3F2FD"
                                    StrokeThickness="8"
                                    Fill="Transparent" />

                            <!-- ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ -->
                            <Ellipse x:Name="WaterProgressCircle"
                                    Stroke="#29B6F6"
                                    StrokeThickness="8"
                                    Fill="Transparent"
                                    StrokeDashArray="0,1000"
                                    Rotation="-90" />

                            <!-- Ð¢ÐµÐºÑÑ‚ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÑ€ÑƒÐ³Ð° -->
                            <VerticalStackLayout HorizontalOptions="Center" 
                                               VerticalOptions="Center"
                                               Spacing="2">
                                <Label x:Name="WaterAmountLabel"
                                       Text="0"
                                       FontSize="20"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center"
                                       TextColor="#0288D1" />
                                <Label Text="Ð¼Ð»"
                                       FontSize="12"
                                       HorizontalOptions="Center"
                                       TextColor="#81D4FA" />
                            </VerticalStackLayout>
                        </Grid>

                        <!-- Ð¦ÐµÐ»ÑŒ Ð¿Ð¾ Ð²Ð¾Ð´Ðµ -->
                        <Label x:Name="WaterGoalLabel"
                               Text="Ð¦ÐµÐ»ÑŒ: 2000 Ð¼Ð»"
                               FontSize="14"
                               HorizontalOptions="Center"
                               TextColor="#81D4FA" />

                        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð²Ð¾Ð´Ñ‹ -->
                        <Grid ColumnDefinitions="*,*,*,*" 
                              ColumnSpacing="10"
                              RowDefinitions="Auto,Auto">

                            <!-- Ð¡Ñ‚Ð°ÐºÐ°Ð½ 200 Ð¼Ð» -->
                            <Frame Grid.Row="0" Grid.Column="0"
                                   BackgroundColor="#E1F5FE"
                                   Padding="12"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="ðŸ¥›"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="+200 Ð¼Ð»"
                                            BackgroundColor="Transparent"
                                            TextColor="#0288D1"
                                            FontSize="10"
                                            FontAttributes="Bold"
                                            Padding="0"
                                            Clicked="OnAddWaterClicked"
                                            CommandParameter="200" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Ð¡Ñ‚Ð°ÐºÐ°Ð½ 300 Ð¼Ð» -->
                            <Frame Grid.Row="0" Grid.Column="1"
                                   BackgroundColor="#E1F5FE"
                                   Padding="12"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="ðŸ¶"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="+300 Ð¼Ð»"
                                            BackgroundColor="Transparent"
                                            TextColor="#0288D1"
                                            FontSize="10"
                                            FontAttributes="Bold"
                                            Padding="0"
                                            Clicked="OnAddWaterClicked"
                                            CommandParameter="300" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Ð‘ÑƒÑ‚Ñ‹Ð»ÐºÐ° 500 Ð¼Ð» -->
                            <Frame Grid.Row="0" Grid.Column="2"
                                   BackgroundColor="#E1F5FE"
                                   Padding="12"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="ðŸ’§"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="+500 Ð¼Ð»"
                                            BackgroundColor="Transparent"
                                            TextColor="#0288D1"
                                            FontSize="10"
                                            FontAttributes="Bold"
                                            Padding="0"
                                            Clicked="OnAddWaterClicked"
                                            CommandParameter="500" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Ð”Ñ€ÑƒÐ³Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ -->
                            <Frame Grid.Row="0" Grid.Column="3"
                                   BackgroundColor="#E1F5FE"
                                   Padding="12"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="âš™ï¸"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="Ð”Ñ€ÑƒÐ³Ð¾Ðµ"
                                            BackgroundColor="Transparent"
                                            TextColor="#0288D1"
                                            FontSize="10"
                                            FontAttributes="Bold"
                                            Padding="0"
                                            Clicked="OnCustomWaterClicked" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ -->
                            <Button Grid.Row="1" Grid.ColumnSpan="4"
                                    Text="â†¶ ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐµ"
                                    BackgroundColor="Transparent"
                                    TextColor="#81D4FA"
                                    FontSize="12"
                                    Clicked="OnUndoWaterClicked"
                                    Margin="0,10,0,0" />
                        </Grid>

                        <!-- ÐœÐ¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ -->
                        <Label x:Name="WaterMessageLabel"
                               Text="ÐÐ°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ñƒ!"
                               FontSize="12"
                               HorizontalOptions="Center"
                               TextColor="#81D4FA" />

                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </ScrollView>
    </RefreshView>

</ContentPage>