<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="NutritionDiary.Views.MainPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Ð“Ð»Ð°Ð²Ð½Ð°Ñ">

    <RefreshView x:Name="RefreshView">
        <ScrollView>
            <VerticalStackLayout Spacing="20" Padding="20">

                <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                <Label Text="Ð”Ð½ÐµÐ²Ð½Ð¸Ðº Ð¿Ð¸Ñ‚Ð°Ð½Ð¸Ñ"
                       FontSize="24"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />

                <!-- ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹ -->
                <Frame BackgroundColor="White"
                       Padding="15"
                       CornerRadius="10">

                    <VerticalStackLayout Spacing="10">
                        <Label Text="Ð”Ð½ÐµÐ²Ð½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ"
                               TextColor="#483D8B"
                               FontSize="18"
                               FontAttributes="Bold" />

                        <ProgressBar x:Name="CalorieProgressBar"
                                     ProgressColor="#483D8B"/>

                        <Label x:Name="CalorieLabel"
                               HorizontalOptions="Center" />

                        <Grid ColumnDefinitions="*,*,*,*" 
                              ColumnSpacing="10">

                            <Frame Grid.Column="0" 
                                   BackgroundColor="#E8F5E8"
                                   Padding="10"
                                   CornerRadius="5">
                                <Label x:Name="ProteinLabel"
                                       TextColor="ForestGreen"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </Frame>

                            <Frame Grid.Column="1" 
                                   BackgroundColor="#FFF3E0"
                                   Padding="10"
                                   CornerRadius="5">
                                <Label x:Name="FatLabel"
                                       TextColor="DarkOrange"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </Frame>

                            <Frame Grid.Column="2" 
                                   BackgroundColor="#E3F2FD"
                                   Padding="10"
                                   CornerRadius="5">
                                <Label x:Name="CarbsLabel"
                                       TextColor="DodgerBlue"
                                       FontSize="12"
                                       HorizontalOptions="Center"/>
                            </Frame>

                            <Frame x:Name="TrafficLightFrame" 
                                   Grid.Column="3" 
                                   BackgroundColor="Gray"
                                   Padding="10"
                                   CornerRadius="5" />
                        </Grid>
                    </VerticalStackLayout>
                </Frame>

                <!-- Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ÐµÐ¼Ð¾Ð² Ð¿Ð¸Ñ‰Ð¸ -->
                <Label Text="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸ÐµÐ¼ Ð¿Ð¸Ñ‰Ð¸"
                       FontSize="18"
                       FontAttributes="Bold" />

                <Grid ColumnDefinitions="*,*" 
                      RowDefinitions="*,*" 
                      ColumnSpacing="10" 
                      RowSpacing="10">

                    <Button Grid.Row="0" Grid.Column="0"
                            Text="ðŸ³ Ð—Ð°Ð²Ñ‚Ñ€Ð°Ðº"
                            Clicked="OnAddBreakfastClicked"
                            BackgroundColor="Green"
                            TextColor="White"
                            CornerRadius="10" />

                    <Button Grid.Row="0" Grid.Column="1"
                            
                            Text="ðŸ² ÐžÐ±ÐµÐ´"
                            Clicked="OnAddLunchClicked"
                            BackgroundColor="Green"
                            TextColor="White"
                            CornerRadius="10" />

                    <Button Grid.Row="1" Grid.Column="0"
                            Text="ðŸ½ï¸ Ð£Ð¶Ð¸Ð½"
                            Clicked="OnAddDinnerClicked"
                            BackgroundColor="Green"
                            TextColor="White"
                            CornerRadius="10" />

                    <Button Grid.Row="1" Grid.Column="1"
                            Text="ðŸŽ ÐŸÐµÑ€ÐµÐºÑƒÑ"
                            Clicked="OnAddSnackClicked"
                            BackgroundColor="Green"
                            TextColor="White"
                            CornerRadius="10" />
                </Grid>

                <!-- ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ -->
                <Grid ColumnDefinitions="*,*" 
                      ColumnSpacing="10">

                    <Button Grid.Column="0"
                            Text="ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°"
                            Clicked="OnShowStatisticsClicked"
                            BackgroundColor="Blue"
                            TextColor="White"
                            CornerRadius="10" />

                    <Button Grid.Column="1"
                            Text="ðŸ“– Ð ÐµÑ†ÐµÐ¿Ñ‚Ñ‹"
                            Clicked="OnShowRecipesClicked"
                            BackgroundColor="Blue"
                            TextColor="White"
                            CornerRadius="10" />
                </Grid>




                <!-- ===== ÐÐžÐ’Ð«Ð™ Ð¢Ð Ð•ÐšÐ•Ð  Ð’ÐžÐ”Ð« ===== -->
                <Frame BackgroundColor="White"
                       Padding="15"
                       CornerRadius="15"
                       HasShadow="True">
                    <VerticalStackLayout Spacing="15">

                        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                        <Grid ColumnDefinitions="*,Auto">
                            <Label Grid.Column="0"
                                   Text="ðŸ’§ Ð¢Ñ€ÐµÐºÐµÑ€ Ð²Ð¾Ð´Ñ‹"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="#2196F3" />

                            <Label x:Name="WaterPercentageLabel"
                                   Grid.Column="1"
                                   Text="0%"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#2196F3" />
                        </Grid>

                        <!-- ÐšÑ€ÑƒÐ³Ð¾Ð²Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€ -->
                        <Grid HorizontalOptions="Center" 
                              VerticalOptions="Center"
                              HeightRequest="120"
                              WidthRequest="120">

                            <!-- Ð¤Ð¾Ð½ ÐºÑ€ÑƒÐ³Ð° -->
                            <Ellipse Stroke="LightGray"
                                    StrokeThickness="8"
                                    Fill="Transparent" />

                            <!-- ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ -->
                            <Ellipse x:Name="WaterProgressCircle"
                                    Stroke="#2196F3"
                                    StrokeThickness="8"
                                    Fill="Transparent"
                                    StrokeDashArray="0,1000"
                                    Rotation="-90" />

                            <!-- Ð¢ÐµÐºÑÑ‚ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÑ€ÑƒÐ³Ð° -->
                            <VerticalStackLayout HorizontalOptions="Center" 
                                               VerticalOptions="Center"
                                               Spacing="2">
                                <Label x:Name="WaterAmountLabel"
                                       Text="0"
                                       FontSize="20"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center"
                                       TextColor="#2196F3" />
                                <Label Text="Ð¼Ð»"
                                       FontSize="12"
                                       HorizontalOptions="Center"
                                       TextColor="Gray" />
                            </VerticalStackLayout>
                        </Grid>

                        <!-- Ð¦ÐµÐ»ÑŒ Ð¿Ð¾ Ð²Ð¾Ð´Ðµ -->
                        <Label x:Name="WaterGoalLabel"
                               Text="Ð¦ÐµÐ»ÑŒ: 2000 Ð¼Ð»"
                               FontSize="14"
                               HorizontalOptions="Center"
                               TextColor="Gray" />

                        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð²Ð¾Ð´Ñ‹ -->
                        <Grid ColumnDefinitions="*,*,*,*" 
                              ColumnSpacing="10"
                              RowDefinitions="Auto,Auto">

                            <!-- Ð¡Ñ‚Ð°ÐºÐ°Ð½ 200 Ð¼Ð» -->
                            <Frame Grid.Row="0" Grid.Column="0"
                                   BackgroundColor="#E3F2FD"
                                   Padding="10"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="ðŸ¥›"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="+200 Ð¼Ð»"
                                            BackgroundColor="Transparent"
                                            TextColor="#2196F3"
                                            FontSize="10"
                                            Padding="0"
                                            Clicked="OnAddWaterClicked"
                                            CommandParameter="200" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Ð¡Ñ‚Ð°ÐºÐ°Ð½ 300 Ð¼Ð» -->
                            <Frame Grid.Row="0" Grid.Column="1"
                                   BackgroundColor="#E3F2FD"
                                   Padding="10"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="ðŸ¶"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="+300 Ð¼Ð»"
                                            BackgroundColor="Transparent"
                                            TextColor="#2196F3"
                                            FontSize="10"
                                            Padding="0"
                                            Clicked="OnAddWaterClicked"
                                            CommandParameter="300" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Ð‘ÑƒÑ‚Ñ‹Ð»ÐºÐ° 500 Ð¼Ð» -->
                            <Frame Grid.Row="0" Grid.Column="2"
                                   BackgroundColor="#E3F2FD"
                                   Padding="10"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="ðŸ’§"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="+500 Ð¼Ð»"
                                            BackgroundColor="Transparent"
                                            TextColor="#2196F3"
                                            FontSize="10"
                                            Padding="0"
                                            Clicked="OnAddWaterClicked"
                                            CommandParameter="500" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Ð”Ñ€ÑƒÐ³Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ -->
                            <Frame Grid.Row="0" Grid.Column="3"
                                   BackgroundColor="#E3F2FD"
                                   Padding="10"
                                   CornerRadius="10"
                                   HorizontalOptions="Fill">
                                <VerticalStackLayout Spacing="5" 
                                                   HorizontalOptions="Center">
                                    <Label Text="âš™ï¸"
                                           FontSize="20"
                                           HorizontalOptions="Center" />
                                    <Button Text="Ð”Ñ€ÑƒÐ³Ð¾Ðµ"
                                            BackgroundColor="Transparent"
                                            TextColor="#2196F3"
                                            FontSize="10"
                                            Padding="0"
                                            Clicked="OnCustomWaterClicked" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ -->
                            <Button Grid.Row="1" Grid.ColumnSpan="4"
                                    Text="â†¶ ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐµ"
                                    BackgroundColor="Transparent"
                                    TextColor="Gray"
                                    FontSize="12"
                                    Clicked="OnUndoWaterClicked"
                                    Margin="0,10,0,0" />
                        </Grid>

                        <!-- ÐœÐ¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ -->
                        <Label x:Name="WaterMessageLabel"
                               Text="ÐÐ°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ñƒ!"
                               FontSize="12"
                               HorizontalOptions="Center"
                               TextColor="Gray" />

                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </ScrollView>
    </RefreshView>

</ContentPage>