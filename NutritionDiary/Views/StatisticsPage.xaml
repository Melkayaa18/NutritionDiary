<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="NutritionDiary.Views.StatisticsPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°"
             BackgroundColor="#FFFBF5">

    <RefreshView x:Name="RefreshView" RefreshColor="#FF9E6D">
        <ScrollView>
            <VerticalStackLayout Spacing="25" Padding="25">

                <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                <Frame BackgroundColor="#FF9E6D"
                       Padding="20"
                       CornerRadius="15"
                       HorizontalOptions="Fill">
                    <Label Text="ðŸ“Š Ð’Ð°ÑˆÐ° ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¸Ñ‚Ð°Ð½Ð¸Ñ"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center" />
                </Frame>

                <!-- Ð¡ÐµÐ³Ð¾Ð´Ð½ÑÑˆÐ½Ð¸Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ -->
                <Frame BackgroundColor="White"
                       Padding="25"
                       CornerRadius="20"
                       HasShadow="True">

                    <VerticalStackLayout Spacing="20">
                        <Label Text="ðŸ“… Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#5D4037" />

                        <!-- ÐšÐ°Ð»Ð¾Ñ€Ð¸Ð¸ -->
                        <VerticalStackLayout Spacing="10">
                            <Grid ColumnDefinitions="*,Auto">
                                <Label Grid.Column="0"
                                       Text="ðŸ”¥ ÐšÐ°Ð»Ð¾Ñ€Ð¸Ð¸"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#FF6B35" />
                                <Label x:Name="TodayCaloriesLabel"
                                       Grid.Column="1"
                                       Text="0/2000 ÐºÐºÐ°Ð»"
                                       FontSize="12"
                                       TextColor="#8D6E63" />
                            </Grid>

                            <!-- ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€ Ð´Ð»Ñ ÐºÐ°Ð»Ð¾Ñ€Ð¸Ð¹ -->
                            <Grid HeightRequest="8">
                                <BoxView x:Name="TodayCaloriesProgressBg"
                                         Color="#F5E6E0"
                                         CornerRadius="4" />
                                <BoxView x:Name="TodayCaloriesProgressFill"
                                         Color="#FF9E6D"
                                         CornerRadius="4"
                                         HorizontalOptions="Start"
                                         WidthRequest="0" />
                            </Grid>
                        </VerticalStackLayout>

                        <!-- Ð‘Ð–Ð£ -->
                        <Grid ColumnDefinitions="*,*,*" 
                              ColumnSpacing="15"
                              RowDefinitions="Auto,Auto,Auto">

                            <!-- Ð‘ÐµÐ»ÐºÐ¸ -->
                            <VerticalStackLayout Grid.Row="0" Grid.Column="0" Spacing="8">
                                <Label Text="ðŸ¥© Ð‘ÐµÐ»ÐºÐ¸"
                                       FontSize="12"
                                       FontAttributes="Bold"
                                       TextColor="#388E3C" />

                                <Grid HeightRequest="6">
                                    <BoxView Color="#E8F5E8" CornerRadius="3" />
                                    <BoxView x:Name="TodayProteinProgressFill"
                                             Color="#81C784"
                                             CornerRadius="3"
                                             HorizontalOptions="Start"
                                             WidthRequest="0" />
                                </Grid>

                                <Label Text="0/50Ð³"
                                       FontSize="10"
                                       TextColor="#66BB6A"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>

                            <!-- Ð–Ð¸Ñ€Ñ‹ -->
                            <VerticalStackLayout Grid.Row="0" Grid.Column="1" Spacing="8">
                                <Label Text="ðŸ¥‘ Ð–Ð¸Ñ€Ñ‹"
                                       FontSize="12"
                                       FontAttributes="Bold"
                                       TextColor="#F57C00" />

                                <Grid HeightRequest="6">
                                    <BoxView Color="#FFF3E0" CornerRadius="3" />
                                    <BoxView x:Name="TodayFatProgressFill"
                                             Color="#FFB74D"
                                             CornerRadius="3"
                                             HorizontalOptions="Start"
                                             WidthRequest="0" />
                                </Grid>

                                <Label Text="0/40Ð³"
                                       FontSize="10"
                                       TextColor="#FFA726"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>

                            <!-- Ð£Ð³Ð»ÐµÐ²Ð¾Ð´Ñ‹ -->
                            <VerticalStackLayout Grid.Row="0" Grid.Column="2" Spacing="8">
                                <Label Text="ðŸš Ð£Ð³Ð»ÐµÐ²Ð¾Ð´Ñ‹"
                                       FontSize="12"
                                       FontAttributes="Bold"
                                       TextColor="#1976D2" />

                                <Grid HeightRequest="6">
                                    <BoxView Color="#E3F2FD" CornerRadius="3" />
                                    <BoxView x:Name="TodayCarbsProgressFill"
                                             Color="#64B5F6"
                                             CornerRadius="3"
                                             HorizontalOptions="Start"
                                             WidthRequest="0" />
                                </Grid>

                                <Label Text="0/200Ð³"
                                       FontSize="10"
                                       TextColor="#42A5F5"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Grid>
                    </VerticalStackLayout>
                </Frame>

                <!-- Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð·Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ -->
                <Frame BackgroundColor="White"
                       Padding="25"
                       CornerRadius="20"
                       HasShadow="True">

                    <VerticalStackLayout Spacing="15">
                        <Label Text="ðŸ“ˆ Ð—Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#5D4037" />

                        <Label x:Name="WeekStatsLabel"
                               TextColor="#8D6E63"
                               FontSize="14"
                               LineBreakMode="WordWrap" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Ð§ÐµÐ»Ð»ÐµÐ½Ð´Ð¶Ð¸ -->
                <Frame BackgroundColor="White"
                       Padding="25"
                       CornerRadius="20"
                       HasShadow="True">

                    <VerticalStackLayout Spacing="15">
                        <Grid ColumnDefinitions="*,Auto">
                            <Label Grid.Column="0"
                                   Text="ðŸŽ¯ Ð§ÐµÐ»Ð»ÐµÐ½Ð´Ð¶ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="#5D4037" />
                            <Label x:Name="ChallengesInfoLabel"
                                   Grid.Column="1"
                                   Text="0/0"
                                   FontSize="12"
                                   TextColor="#8D6E63"
                                   VerticalOptions="Center" />
                        </Grid>

                        <!-- ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ñ‡ÐµÐ»Ð»ÐµÐ½Ð´Ð¶ÐµÐ¹ -->
                        <VerticalStackLayout Spacing="8">
                            <Grid HeightRequest="8">
                                <BoxView Color="#F5E6E0" CornerRadius="4" />
                                <BoxView x:Name="ChallengesProgressFill"
                                         Color="#4CAF50"
                                         CornerRadius="4"
                                         HorizontalOptions="Start"
                                         WidthRequest="0" />
                            </Grid>
                        </VerticalStackLayout>

                        <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ‡ÐµÐ»Ð»ÐµÐ½Ð´Ð¶ÐµÐ¹ -->
                        <VerticalStackLayout x:Name="ChallengesLayout" 
                                             Spacing="12" />

                        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑÐ¾Ð²ÐµÑ‚Ð° -->
                        <Button x:Name="AchievementsButton"
                                Text="ðŸ’¡ ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÐ¾Ð²ÐµÑ‚"
                                BackgroundColor="#4DB6AC"
                                TextColor="White"
                                CornerRadius="12"
                                FontSize="14"
                                FontAttributes="Bold"
                                HeightRequest="45"
                                Clicked="OnDailyTipClicked" />
                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </ScrollView>
    </RefreshView>

</ContentPage>